graph TD
    subgraph FrontendLayer["Frontend Layer"]
        UI[User Interface] --> NextPages[Next.js Pages]
        NextPages --> AuthPages[Authentication Pages]
        NextPages --> Dashboard[Dashboard Pages]
        NextPages --> HealthRecords[Health Record Pages]
        Dashboard --> EmpDash[Employee Dashboard]
        Dashboard --> AdminDash[Admin Dashboard]
        Dashboard --> HRDash[HR Dashboard]
        
        subgraph UIComponents["UI Components"]
            CustomComp[Custom Components] --> PerCal[Period Calendar]
            CustomComp --> AuthForm[Authentication Forms]
            CustomComp --> NavBar[Navigation Bar]
            CustomComp --> ChatUI[Chat Interface]
            CustomComp --> RecordDialog[Health Record Dialog]
            
            UILib[UI Library Components] --> Buttons[Buttons]
            UILib --> Forms[Form Controls]
            UILib --> Tables[Tables]
            UILib --> Modals[Modal Dialogs]
            UILib --> ThemeToggle[Theme Toggle]
        end
        
        NextPages --> CustomComp
        NextPages --> UILib
    end
    
    subgraph BackendServices["Backend Services"]
        APIRoutes[API Routes] --> AuthAPI[Authentication API]
        APIRoutes --> EmployeeAPI[Employee API]
        APIRoutes --> AdminAPI[Admin API]
        APIRoutes --> HealthAPI[Health Records API]
        APIRoutes --> AIChat[AI Chat API]
        
        AuthAPI --> NextAuth[NextAuth.js]
        NextAuth --> Middleware[Auth Middleware]
        
        EmployeeAPI --> DBQueries[Database Queries]
        AdminAPI --> DBQueries
        HealthAPI --> DBQueries
        AIChat --> AIService[AI Service Integration]
    end
    
    subgraph DataStorageLayer["Data Storage Layer"]
        DBQueries --> PostgreSQL[(PostgreSQL Database)]
        DBQueries <--> Redis[(Redis Cache)]
        APIRoutes <--> BlobStorage[(Vercel Blob Storage)]
        
        PostgreSQL --> UserTable[User Table]
        PostgreSQL --> ChatTable[Chat Table]
        PostgreSQL --> ReservationTable[Reservation Table]
        PostgreSQL --> HealthRecordTable[Health Record Table]
    end
    
    UI <--HTTP/API--> APIRoutes
    AIService <--External API--> OpenAI[OpenAI Services]
    
    classDef frontendStyle fill:#f9f9ff,stroke:#9999ff,stroke-width:2px
    classDef backendStyle fill:#f9fff9,stroke:#99ff99,stroke-width:2px
    classDef dataStyle fill:#fff9f9,stroke:#ff9999,stroke-width:2px
    classDef uiCompStyle fill:#f0f0ff,stroke:#9090ff,stroke-width:1px
    
    class FrontendLayer frontendStyle
    class BackendServices backendStyle
    class DataStorageLayer dataStyle
    class UIComponents uiCompStyle